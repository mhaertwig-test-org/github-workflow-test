name: cherry-pick on maintenance branch

on:
  pull_request:
    types: [closed]

jobs:
  cherry_pick:
    runs-on: ubuntu-latest

    if: github.event.pull_request.merged == true
    steps:
    - uses: actions/checkout@v3
      with:
        fetch-depth: 0
    - name: cherry-pick
      run: |
        git checkout maintenance
        git -c user.name="cerry-picker" -c user.email="cherry-picker@acme.org" cherry-pick -m 1 ${{github.sha}}
